<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
>
<head>
    <meta charset="UTF-8">
    <meta name="author" content="Gitesh Dalal">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Serve - Reset Password</title>
    <link th:href="@{/assets/img/faviconv1.ico}" rel="icon" type="image/x-icon">
    <link href="https://fonts.googleapis.com/css?family=Arvo:400,700" rel="stylesheet">
    <link th:href="@{/assets/css/serve.css}" rel="stylesheet">
</head>
<body class="backdrop">
<div class="serve">
    <div class="content">
        <section class="panel">
            <div class="rel">
                <h2>Reset Password</h2>
                <img class="logo-small" th:src="@{/assets/img/icon.png}" alt="Serve Logo"/>
            </div>
            <form th:action="@{/reset-password}" method="post">
                <div class="msg" th:text="${msg}"></div>
                <label for="token">Reset Token</label>
                <input type="text" name="token" id="token" th:pattern="|.{${tokenLength}}|" placeholder="_" required autofocus th:value="${param.token}"
                       style="text-transform: uppercase" th:oninvalid="|this.setCustomValidity('Token must have ${tokenLength} characters')|"/>
                <label for="password">New Password</label>
                <input type="password" name="password" id="password" placeholder="_" required pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{6,}"
                       onchange="form.confirmPassword.pattern = this.value.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');"
                       oninvalid="this.setCustomValidity('Must have a number, uppercase and lowercase letter. Minimum password length is 6.')"
                       oninput="this.setCustomValidity('')"/>
                <label for="confirmPassword">Confirm password</label>
                <input type="password" name="confirmPassword" id="confirmPassword" placeholder="_" required
                       oninvalid="this.setCustomValidity('Passwords do not match.')" oninput="this.setCustomValidity('')"/>
                <a th:href="@{/forgot-password}" href="forgot-password.html" class="">Don't have a token?</a>
                <input value="Change Password" type="submit"/>
            </form>
        </section>
    </div>
</div>
</body>
</html>
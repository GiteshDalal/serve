<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
>
<head>
    <meta charset="UTF-8">
    <meta name="author" content="Gitesh Dalal">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Serve - Client Management</title>
    <link th:href="@{/assets/img/faviconv1.ico}" href="../../static/assets/img/faviconv1.ico" rel="icon" type="image/x-icon">
    <link href="https://fonts.googleapis.com/css?family=Arvo:400,700" rel="stylesheet">
    <link th:href="@{/assets/css/serve.css}" href="../../static/assets/css/serve.css" rel="stylesheet">
</head>
<body class="backdrop">
<div class="serve dashboard">
    <div class="content">
        <section class="panel">
            <div class="rel">
                <h2>Search Role &#9819;</h2>
                <img class="logo-small" th:src="@{/assets/img/icon.png}" src="../../static/assets/img/icon.png" alt="Serve Logo"/>
            </div>
            <table>
                <tr>
                    <th>Uid</th>
                    <th>Name</th>
                    <th>Privileges</th>
                    <th></th>
                </tr>
                <tr th:each="resource: ${results.content}" onclick="window.location.href='edit.html'"
                    th:onclick="|window.location.href='/role/${resource.uid}/edit'|">
                    <td th:text="${resource.uid}">101</td>
                    <td th:text="${resource.name}">ROLE_USER</td>
                    <td>
                        [
                        <th:block th:each="p, stat : ${resource.privileges}">
                            (<span th:text="${p.uid}">id</span>) <span th:text="!${stat.last} ? ${p.name} + ', ': ${p.name}">name</span>
                        </th:block>
                        ]
                    </td>
                    <td>&#x270E;</td>
                </tr>
            </table>
            <p class="legend">
                Showing <span th:text="${results.numberOfElements}"></span> of <span th:text="${results.totalElements}"></span>
                <span class="pull-right">
                    <a th:if="${results.number -1 > 0}"
                       th:href="@{__${query}__&page=0&size=__${results.size}__}"
                       href="#">&lt;&lt;&lt;First</a>
                    <a th:if="${results.number -1 >= 0}"
                       th:href="@{__${query}__&page=__${results.number -1}__&size=__${results.size}__}"
                       href="#">&lt;Previous</a>

                    <span>Page <span th:text="${results.number + 1}">1</span> of <span th:text="${results.totalPages}">1</span></span>

                    <a th:if="${results.number +1 < results.totalPages}"
                       th:href="@{__${query}__&page=__${results.number +1}__&size=__${results.size}__}"
                       href="#">Next&gt;</a>
                    <a th:if="${results.number +2 < results.totalPages}"
                       th:href="@{__${query}__&page=__${results.totalPages -1}__&size=__${results.size}__}"
                       href="#">Last&gt;&gt;&gt;</a>
                </span>
            </p>
            <a th:href="@{/role/search__${query}__}" href="search.html" class="btn left">Back</a>
            <a th:href="@{/dashboard}" href="../dashboard.html" class="btn danger">Cancel</a>
        </section>
    </div>
</div>
</body>
</html>